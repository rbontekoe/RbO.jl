<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · RbO.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>RbO.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Manual</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Home-1">Home</a></li><li><a class="toctext" href="#Introduction-1">Introduction</a></li><li class="toplevel"><a class="toctext" href="#Installing-the-module-1">Installing the module</a></li><li><a class="toctext" href="#Example-of-adding-the-module-1">Example of adding the module</a></li><li><a class="toctext" href="#Example-of-cloning-the-module-1">Example of cloning the module</a></li><li class="toplevel"><a class="toctext" href="#Public-interface-1">Public interface</a></li><li><a class="toctext" href="#Exports-1">Exports</a></li><li><a class="toctext" href="#createSubscriber-1">createSubscriber</a></li><li><a class="toctext" href="#createPublisher-1">createPublisher</a></li><li><a class="toctext" href="#subscribe-1">subscribe</a></li><li><a class="toctext" href="#unsubscribe-1">unsubscribe</a></li><li><a class="toctext" href="#createMessage-1">createMessage</a></li><li><a class="toctext" href="#sendMessage-1">sendMessage</a></li><li class="toplevel"><a class="toctext" href="#Examples-1">Examples</a></li><li><a class="toctext" href="#test.jl-1">test.jl</a></li><li><a class="toctext" href="#doc.jl-1">doc.jl</a></li><li><a class="toctext" href="#Julia-Notebook-1">Julia Notebook</a></li></ul></li><li><a class="toctext" href="course/">User Course</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Manual</a></li></ul><a class="edit-page" href="https://github.com/rbontekoe/RbO.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Manual</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="RbO.jl-1" href="#RbO.jl-1">RbO.jl</a></h1><h1><a class="nav-anchor" id="Home-1" href="#Home-1">Home</a></h1><h2><a class="nav-anchor" id="Introduction-1" href="#Introduction-1">Introduction</a></h2><p>Recently I focussed on the Julia programming language again. To get more experience, I created the project &#39;rbontekoe/RbO.jl.&#39;</p><p>Also, I decided to use Documenter.jl as Julia package to create the documentation for the project, after looking at a <a href="https://www.youtube.com/watch?v=m3c8Z6HBn48">video</a> that explains its features. I was impressed when Morton Phiibleht told about the possibility to test the code example automatically during the creation of the manual. The result is this manual.</p><p>For the creation of the Julia notebook, I used Literate.jl, after watching this <a href="https://www.youtube.com/watch?v=Tfp1WEdYfqk&amp;t=333s">video</a>.</p><h1><a class="nav-anchor" id="Installing-the-module-1" href="#Installing-the-module-1">Installing the module</a></h1><p>The module can be added or cloned from GitHub: https://github.com/rbontekoe/RbO.jl.</p><h2><a class="nav-anchor" id="Example-of-adding-the-module-1" href="#Example-of-adding-the-module-1">Example of adding the module</a></h2><pre><code class="language-none">julia&gt; ]

(v1.1) pkg&gt; add https://github.com/rbontekoe/RbO.jl

(v1.1) pkg&gt; Ctrl-C

julia&gt; using RbO</code></pre><h2><a class="nav-anchor" id="Example-of-cloning-the-module-1" href="#Example-of-cloning-the-module-1">Example of cloning the module</a></h2><pre><code class="language-none">$ mkdir julia_projects

$ cd julia_projects

$ git clone https://github.com/rbontekoe/RbO.jl.git

$ cd RbO.jl

$ julia

julia&gt; push!(LOAD_PATH, &quot;/home/rob/julia_projects/RbO.jl/src/&quot;)

julia&gt; using RbO</code></pre><h1><a class="nav-anchor" id="Public-interface-1" href="#Public-interface-1">Public interface</a></h1><p>I have taken the Observer Pattern as the goal to implement the project. The main objects are Publisher and Subscriber. The Publisher delivers a message to the Subscribers. The information consists of temperatures that were measured.</p><h2><a class="nav-anchor" id="Exports-1" href="#Exports-1">Exports</a></h2><p><strong>API methods</strong></p><ul><li>createSubscriber, createPublisher, createMessage, sendMessage</li></ul><p><strong>Domain objects</strong></p><ul><li>Subscriber, Publisher, Message</li></ul><p><strong>SubscriberType values</strong></p><ul><li>MEAN_CALCULATOR, STD_CALCULATOR, PLOTTER</li></ul><p><strong>PublisherType values</strong></p><ul><li>NEWSPAPER, MAGAZINE, SOCIAL_MEDIA</li></ul><h2><a class="nav-anchor" id="createSubscriber-1" href="#createSubscriber-1">createSubscriber</a></h2><p><strong>createSubscriber( name [, email [, subscribertype]] )</strong></p><pre><code class="language-none"># Arguments
- `name::String`: name of the subscribers.
- `email::String`: email address of the subscribers
- `subscribertype::SubscriberType`: kind of subscriber, see exports.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using RbO, Statistics

julia&gt; mickey = createSubscriber( &quot;Mickey&quot; )
Subscriber(&quot;Mickey&quot;, &quot;&quot;, MEAN_CALCULATOR::SubscriberType = 0)

julia&gt; daisy = createSubscriber( &quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot; )
Subscriber(&quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot;, MEAN_CALCULATOR::SubscriberType = 0)

julia&gt; donald = createSubscriber( &quot;Donald Duck&quot;, &quot;donald@uckcity.com&quot;, STD_CALCULATOR )
Subscriber(&quot;Donald Duck&quot;, &quot;donald@uckcity.com&quot;, STD_CALCULATOR::SubscriberType = 1)

julia&gt; scrooge = createSubscriber( &quot;Scrooge McDuck&quot;, &quot;scrooge@duckcity.com&quot;, PLOTTER )
Subscriber(&quot;Scrooge McDuck&quot;, &quot;scrooge@duckcity.com&quot;, PLOTTER::SubscriberType = 2)</code></pre><h2><a class="nav-anchor" id="createPublisher-1" href="#createPublisher-1">createPublisher</a></h2><p><strong>createPublisher( name [, publishertype] )</strong></p><pre><code class="language-none"># Arguments
- `name::String`: name of the publisher.
- `publishertype::PublisherType`: kind of publisher, see exports.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; nyt = createPublisher(&quot;New York Times&quot;)
Publisher(&quot;New York Times&quot;, NEWSPAPER::PublisherType = 0, Subscriber[])

julia&gt; chronicals = createPublisher(&quot;The Duck City Chronicals&quot;, MAGAZINE)
Publisher(&quot;The Duck City Chronicals&quot;, MAGAZINE::PublisherType = 1, Subscriber[])

julia&gt; np = createPublisher(&quot;&quot;)
ERROR: MissingException: Publisher name is mandatory</code></pre><h2><a class="nav-anchor" id="subscribe-1" href="#subscribe-1">subscribe</a></h2><p><strong>subscribe( publisher, subscriber )</strong></p><pre><code class="language-none"># Arguments
- `publisher::Publisher`: the publisher.
- `subscriber::Subscriber`: subscriber to be added to the subscriber list.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; subscribe( chronicals, mickey )
Publisher(&quot;The Duck City Chronicals&quot;, MAGAZINE::PublisherType = 1, Subscriber[Subscriber(&quot;Mickey&quot;, &quot;&quot;, MEAN_CALCULATOR)])

julia&gt; subscribe( chronicals, daisy )
Publisher(&quot;The Duck City Chronicals&quot;, MAGAZINE::PublisherType = 1, Subscriber[Subscriber(&quot;Mickey&quot;, &quot;&quot;, MEAN_CALCULATOR), Subscriber(&quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot;, MEAN_CALCULATOR)])

julia&gt; subscribe( chronicals, scrooge )
Publisher(&quot;The Duck City Chronicals&quot;, MAGAZINE::PublisherType = 1, Subscriber[Subscriber(&quot;Mickey&quot;, &quot;&quot;, MEAN_CALCULATOR), Subscriber(&quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot;, MEAN_CALCULATOR), Subscriber(&quot;Scrooge McDuck&quot;, &quot;scrooge@duckcity.com&quot;, PLOTTER)])</code></pre><h2><a class="nav-anchor" id="unsubscribe-1" href="#unsubscribe-1">unsubscribe</a></h2><p><strong>unsubscribe( publisher, subscriber )</strong></p><pre><code class="language-none"># Arguments
- `publisher::Publisher`: the publisher.
- `subscriber::Subscriber`: subscriber to be removed from the subscriber list.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; chronicals = unsubscribe(chronicals, mickey)
Publisher(&quot;The Duck City Chronicals&quot;, MAGAZINE::PublisherType = 1, Subscriber[Subscriber(&quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot;, MEAN_CALCULATOR), Subscriber(&quot;Scrooge McDuck&quot;, &quot;scrooge@duckcity.com&quot;, PLOTTER)])</code></pre><h2><a class="nav-anchor" id="createMessage-1" href="#createMessage-1">createMessage</a></h2><p><strong>createMessage(header, subject, body)</strong></p><pre><code class="language-none"># Arguments
- `header::String`: the header of the message.
- `subject::String`: the subject of the message.
- `body::Array{Float64, 1}`: an array with values to be processed by the subscriber.</code></pre><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; message = createMessage( &quot;Weather station&quot;, &quot;Temperatures&quot;, [10.9, 12, 10.5, 12.7, 10.2] )
Message(&quot;Weather station&quot;, &quot;Temperatures&quot;, [10.9, 12.0, 10.5, 12.7, 10.2])</code></pre><h2><a class="nav-anchor" id="sendMessage-1" href="#sendMessage-1">sendMessage</a></h2><p><strong>sendMessage( publisher, message, f )</strong></p><pre><code class="language-none"># Arguments
- `publisher::Publisher`: publisher who sends messages to the subscribers.
- `message::Message`: the message.
- `f::Function`: a function to be used for processing the message, see example.</code></pre><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; processMessage( s::Subscriber, n::Publisher, m::Message ) = begin
                  if s.subscribertype == STD_CALCULATOR
                      println( s.name * &quot;: the standard deviation of the last five temperatures is: &quot; * string( round( std(m.body); digits=2) ) * &quot; °C&quot; )
                  elseif s.subscribertype == MEAN_CALCULATOR
                      println( s.name * &quot;: the average of the last five temperatures is: &quot; * string( mean( m.body ) ) * &quot; °C&quot; )
                  elseif s.subscribertype == PLOTTER
                      println( s.name * &quot;: the dataset with the last five temperatures is: &quot; * string( m.body ) )
                      global result = m.body
                  end
              end
processMessage (generic function with 1 method)

julia&gt; sendMessage( chronicals, message, processMessage )
Daisy Duck: the average of the last five temperatures is: 11.26 °C
Scrooge McDuck: the dataset with the last five temperatures is: [10.9, 12.0, 10.5, 12.7, 10.2]</code></pre><p><strong>Plotting the temperatures in the previous example</strong></p><pre><code class="language-none">julia&gt; using Plots

julia&gt; plot(result)</code></pre><h1><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h1><h2><a class="nav-anchor" id="test.jl-1" href="#test.jl-1">test.jl</a></h2><p>Code to test RoB and to create the Julia Notebook.</p><pre><code class="language-none">using RbO, Plots, Statistics
pyplot()

# ### Create subscribers
daisy = createSubscriber( &quot;Daisy Duck&quot;, &quot;daisy@duckcity.com&quot; )
donald = createSubscriber( &quot;Donald Duck&quot;, &quot;donald@duckcity.com&quot;, STD_CALCULATOR )
scrooge = createSubscriber( &quot;Scrooge McDuck&quot;, &quot;scrooge@duckcity.com&quot;, PLOTTER )
mickey = createSubscriber( &quot;Micky Mouse&quot; )

# ### Create newspapers and magazines
chronicals = createPublisher( &quot;the Duck Chronicals&quot; )

# Add subscribers to the Duck Chronicals
subscribe( chronicals, daisy )
subscribe( chronicals, donald )
subscribe( chronicals, scrooge )
subscribe( chronicals, mickey )

# Unsubscribe Mickey Mouse
chronicals = unsubscribe(chronicals, mickey)

# ### Define message for the Duck Chronical subscribers
message = createMessage( &quot;Weather station&quot;, &quot;Temperatures&quot;, [10.9, 12, 10.5, 12.7, 10.2] )

# ### Print the messages
paper = chronicals

# List with the subscribers of a newspaper or magazine
sm = map( x -&gt; x.email == &quot;&quot; ? x.name : x.name * &quot; - &quot; * x.email, paper.list )

# Print the subscribers
len =  length( &quot;Subscribers of &quot; * paper.name * string(paper.publishertype )) + 5
println( &quot;\n&quot; * &quot;=&quot;^len )
title = titlecase( string( paper.publishertype ) )
println( &quot; Subscribers of &quot; * paper.name * &quot; - &quot; * map(x -&gt; x == &#39;_&#39; ? &#39; &#39; : x , title ) )
println( &quot;=&quot;^len )

for subscriber in sm
    println( &quot; &quot; * subscriber )
end
println( &#39;=&#39;^len )

# ### Define the function &#39;processMessage&#39; to process data depending on SubsriberType
#result = []
processMessage( s::Subscriber, n::Publisher, m::Message ) = begin
    if s.subscribertype == STD_CALCULATOR
        println( s.name * &quot;:\t the standard deviation of the last five temperatures is: &quot; * string( round( std(m.body); digits=2) ) * &quot; °C&quot; )
    elseif s.subscribertype == MEAN_CALCULATOR
        #println( s.name * &quot;:\t the average of the last five temperatures is: &quot; * string(sum(m.body) / length(m.body)) * &quot; °C&quot; )
        println( s.name * &quot;:\t the average of the last five temperatures is: &quot; * string( mean( m.body ) ) * &quot; °C&quot; )
    elseif s.subscribertype == PLOTTER
        println( s.name * &quot;:\t the dataset with the last five temperatures is: &quot; * string( m.body ) )
        global result = m.body
    end
end

# ### Notify scubscribers
sendMessage( chronicals, message, processMessage )

# ### Plot the temperatures
plot(result)</code></pre><h2><a class="nav-anchor" id="doc.jl-1" href="#doc.jl-1">doc.jl</a></h2><p>Code to create the Julia Notebook</p><pre><code class="language-none"># Uncomment the next line when RbO has been cloned.
#push!(LOAD_PATH, &quot;/home/rob/julia_projects/RbO.jl/src/&quot;)
include(&quot;./test.jl&quot;)
using Literate
Literate.notebook(&quot;./test.jl&quot;, &quot;.&quot;; documenter=false)</code></pre><h2><a class="nav-anchor" id="Julia-Notebook-1" href="#Julia-Notebook-1">Julia Notebook</a></h2><p>You can find an example of the code in a Julia Notebook on GitHub. See: <a href="https://github.com/rbontekoe/RbO.jl/blob/master/test.ipynb">https://github.com/rbontekoe/RbO.jl/blob/master/test.ipynb</a></p><footer><hr/><a class="next" href="course/"><span class="direction">Next</span><span class="title">User Course</span></a></footer></article></body></html>
